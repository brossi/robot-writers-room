# Robot Writers Room - Environment Configuration
# Copy this file to .env and customize as needed

# === OpenAI Configuration ===
# Your OpenAI API key (required for LLM access)
OPENAI_API_KEY=your_api_key_here

# === State Store Configuration ===

# Data directory for state storage (events.jsonl, cards.index.json)
STATE_DATA_DIR=data

# Backend implementation (currently only "jsonl" is supported)
# Future: "graphiti", "sqlite", etc.
STATE_BACKEND=jsonl

# Enable reading from StateStore instead of legacy cards.json
# Set to "true" to use event-sourced state for reads
# Set to "false" (default) to use legacy cards.json (shadow mode)
USE_STATE_FOR_READS=false

# Enable dual-write mode (write to both StateStore and legacy cards.json)
# Recommended: keep enabled during transition period
# Set to "false" once confident in StateStore implementation
DUAL_WRITE=true

# === Feature Flags ===

# Enable context shard injection for agents
# Provides agents with historical context from the state store
ENABLE_CONTEXT_SHARD=false

# Agents that should receive automatic context injection (comma-separated)
# Example: Scribe,Researcher,Outliner
CONTEXT_SHARD_AGENTS=Scribe

# Default time window for context shards (relative time format)
# Examples: "-30m" (last 30 minutes), "-2h" (last 2 hours), "-1d" (last day)
CONTEXT_SHARD_TIME_WINDOW=-30m

# Maximum events to include in context shard
CONTEXT_SHARD_MAX_EVENTS=30

# === Logging Configuration ===

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable detailed event logging
DEBUG_EVENTS=false
